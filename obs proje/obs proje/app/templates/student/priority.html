{% extends "base.html" %}

{% block title %}Öncelik Bilgisi{% endblock %}

{% block content %}
<div class="page-container">
    <div class="page-header">
        <h1><i class="fas fa-sort-amount-up"></i> Öncelik Puanınız</h1>
        <p>Kayıt sırasındaki öncelik durumunuz</p>
    </div>
    
    <div class="priority-detail-container">
        <!-- Toplam Puan -->
        <div class="priority-score-card">
            <div class="score-circle">
                <span class="score">{{ "%.1f"|format(priority.total_score) }}</span>
                <span class="max">/100</span>
            </div>
            <h2>Toplam Öncelik Puanı</h2>
            <p>Puan ne kadar yüksekse, kayıt sırasında o kadar önceliklisiniz.</p>
        </div>
        
        <!-- Puan Detayları -->
        <div class="priority-breakdown">
            <h3>Puan Dağılımı</h3>
            
            <div class="breakdown-item">
                <div class="breakdown-header">
                    <span class="breakdown-label">
                        <i class="fas fa-user-graduate"></i>
                        Sınıf Seviyesi
                    </span>
                    <span class="breakdown-score">{{ "%.1f"|format(priority.breakdown.class_level.score) }} puan</span>
                </div>
                <div class="breakdown-bar">
                    <div class="bar-fill" style="width: {{ (priority.breakdown.class_level.score / priority.breakdown.class_level.weight) * 100 }}%"></div>
                </div>
                <p class="breakdown-desc">{{ priority.breakdown.class_level.description }} (Ağırlık: %{{ priority.breakdown.class_level.weight }})</p>
            </div>
            
            <div class="breakdown-item">
                <div class="breakdown-header">
                    <span class="breakdown-label">
                        <i class="fas fa-tasks"></i>
                        Mezuniyete Kalan Ders
                    </span>
                    <span class="breakdown-score">{{ "%.1f"|format(priority.breakdown.remaining_courses.score) }} puan</span>
                </div>
                <div class="breakdown-bar">
                    <div class="bar-fill" style="width: {{ (priority.breakdown.remaining_courses.score / priority.breakdown.remaining_courses.weight) * 100 if priority.breakdown.remaining_courses.weight > 0 else 0 }}%"></div>
                </div>
                <p class="breakdown-desc">{{ priority.breakdown.remaining_courses.description }} (Ağırlık: %{{ priority.breakdown.remaining_courses.weight }})</p>
            </div>
            
            <div class="breakdown-item">
                <div class="breakdown-header">
                    <span class="breakdown-label">
                        <i class="fas fa-chart-line"></i>
                        Not Ortalaması (GPA)
                    </span>
                    <span class="breakdown-score">{{ "%.1f"|format(priority.breakdown.gpa.score) }} puan</span>
                </div>
                <div class="breakdown-bar">
                    <div class="bar-fill" style="width: {{ (priority.breakdown.gpa.score / priority.breakdown.gpa.weight) * 100 if priority.breakdown.gpa.weight > 0 else 0 }}%"></div>
                </div>
                <p class="breakdown-desc">{{ priority.breakdown.gpa.description }} (Ağırlık: %{{ priority.breakdown.gpa.weight }})</p>
            </div>
            
            <div class="breakdown-item">
                <div class="breakdown-header">
                    <span class="breakdown-label">
                        <i class="fas fa-star"></i>
                        Özel Durum
                    </span>
                    <span class="breakdown-score">{{ "%.1f"|format(priority.breakdown.special_status.score) }} puan</span>
                </div>
                <div class="breakdown-bar">
                    <div class="bar-fill" style="width: {{ (priority.breakdown.special_status.score / priority.breakdown.special_status.weight) * 100 if priority.breakdown.special_status.weight > 0 else 0 }}%"></div>
                </div>
                <p class="breakdown-desc">{{ priority.breakdown.special_status.description }} (Ağırlık: %{{ priority.breakdown.special_status.weight }})</p>
            </div>
        </div>
        
        <!-- Bilgi Notu -->
        <div class="info-box">
            <h4><i class="fas fa-info-circle"></i> Öncelik Sistemi Nasıl Çalışır?</h4>
            <ul>
                <li><strong>Sınıf Seviyesi:</strong> 4. sınıf öğrencileri en yüksek puanı alır.</li>
                <li><strong>Mezuniyete Kalan Ders:</strong> Mezuniyete yakın öğrenciler önceliklidir.</li>
                <li><strong>Not Ortalaması:</strong> Yüksek GPA, yüksek puan demektir.</li>
                <li><strong>Özel Durum:</strong> Burslu, çift anadal gibi durumlar bonus puan sağlar.</li>
            </ul>
            <p>Kayıt simülasyonu başladığında, tüm öğrenciler öncelik puanına göre sıralanır ve sırasıyla ders talepleri işlenir.</p>
        </div>
    </div>
</div>
{% endblock %}

{% extends "base.html" %}

{% block title %}Kayıt Ol{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="auth-card">
        <div class="auth-header">
            <img src="{{ url_for('static', filename='images/btu_logo.png') }}" alt="BTÜ Logo" class="auth-logo">
            <h1>Öğrenci Kayıt</h1>
            <p>Bursa Teknik Üniversitesi Ders Kayıt Sistemi</p>
        </div>
        
        <form method="POST" class="auth-form">
            <div class="form-row">
                <div class="form-group">
                    <label for="first_name">
                        <i class="fas fa-user"></i> Ad
                    </label>
                    <input type="text" id="first_name" name="first_name" 
                           placeholder="Adınız" required>
                </div>
                
                <div class="form-group">
                    <label for="last_name">
                        <i class="fas fa-user"></i> Soyad
                    </label>
                    <input type="text" id="last_name" name="last_name" 
                           placeholder="Soyadınız" required>
                </div>
            </div>
            
            <div class="form-group">
                <label for="student_number">
                    <i class="fas fa-id-card"></i> Öğrenci Numarası
                </label>
                <input type="text" id="student_number" name="student_number" 
                       placeholder="Örn: 20210001" required>
            </div>
            
            <div class="form-group">
                <label for="email">
                    <i class="fas fa-envelope"></i> E-posta
                </label>
                <input type="email" id="email" name="email" 
                       placeholder="ornek@btu.edu.tr" required>
            </div>
            
            <div class="form-group">
                <label for="faculty">
                    <i class="fas fa-university"></i> Fakülte
                </label>
                <select id="faculty" name="faculty" required onchange="updateDepartments()">
                    <option value="">-- Fakülte Seçiniz --</option>
                    <option value="muhendislik">Mühendislik ve Doğa Bilimleri Fakültesi</option>
                    <option value="insan">İnsan ve Toplum Bilimleri Fakültesi</option>
                    <option value="mimarlik">Mimarlık ve Tasarım Fakültesi</option>
                    <option value="orman">Orman Fakültesi</option>
                    <option value="denizcilik">Denizcilik Fakültesi</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="department">
                    <i class="fas fa-building"></i> Bölüm
                </label>
                <select id="department" name="department" required disabled>
                    <option value="">-- Önce Fakülte Seçiniz --</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="password">
                    <i class="fas fa-lock"></i> Şifre
                </label>
                <input type="password" id="password" name="password" 
                       placeholder="En az 6 karakter" required minlength="6">
            </div>
            
            <button type="submit" class="btn btn-primary btn-block">
                <i class="fas fa-user-plus"></i> Kayıt Ol
            </button>
        </form>
        
        <div class="auth-footer">
            <p>Zaten hesabınız var mı? <a href="{{ url_for('auth.login') }}">Giriş Yapın</a></p>
        </div>
    </div>
</div>

<script>
const departments = {
    muhendislik: [
        "Bilgisayar Mühendisliği",
        "Yapay Zeka ve Makine Öğrenmesi Mühendisliği",
        "Veri Bilimi ve Analitiği",
        "Elektrik-Elektronik Mühendisliği",
        "Makine Mühendisliği",
        "Mekatronik Mühendisliği",
        "İnşaat Mühendisliği",
        "Kimya Mühendisliği",
        "Metalurji ve Malzeme Mühendisliği",
        "Polimer Malzeme Mühendisliği",
        "Biyomühendislik",
        "Gıda Mühendisliği",
        "Çevre Mühendisliği",
        "Endüstri Mühendisliği",
        "Matematik",
        "Fizik",
        "Kimya",
        "Moleküler Biyoloji ve Genetik"
    ],
    insan: [
        "Psikoloji",
        "İngilizce Mütercim ve Tercümanlık",
        "Uluslararası Ticaret ve Lojistik",
        "Uluslararası İlişkiler",
        "İşletme",
        "İktisat",
        "Sosyoloji"
    ],
    mimarlik: [
        "Mimarlık",
        "Şehir ve Bölge Planlama",
        "İç Mimarlık",
        "Peyzaj Mimarlığı"
    ],
    orman: [
        "Orman Mühendisliği",
        "Orman Endüstri Mühendisliği"
    ],
    denizcilik: [
        "Denizcilik İşletmeleri Yönetimi"
    ]
};

function updateDepartments() {
    const facultySelect = document.getElementById('faculty');
    const departmentSelect = document.getElementById('department');
    const selectedFaculty = facultySelect.value;
    
    // Bölüm listesini temizle
    departmentSelect.innerHTML = '';
    
    if (selectedFaculty && departments[selectedFaculty]) {
        departmentSelect.disabled = false;
        
        // Varsayılan seçenek ekle
        const defaultOption = document.createElement('option');
        defaultOption.value = '';
        defaultOption.textContent = '-- Bölüm Seçiniz --';
        departmentSelect.appendChild(defaultOption);
        
        // Bölümleri ekle
        departments[selectedFaculty].forEach(dept => {
            const option = document.createElement('option');
            option.value = dept;
            option.textContent = dept;
            departmentSelect.appendChild(option);
        });
    } else {
        departmentSelect.disabled = true;
        const defaultOption = document.createElement('option');
        defaultOption.value = '';
        defaultOption.textContent = '-- Önce Fakülte Seçiniz --';
        departmentSelect.appendChild(defaultOption);
    }
}
</script>
{% endblock %}
